(()=>{"use strict";var e={7752:(e,s,t)=>{var o=t(6314);onmessage=e=>{const s=new r(e.data);postMessage(s.move())};class r{constructor(e){this.chessjs=new o.d$(e)}evaluate(){const e={p:-1,n:-3,b:-3,r:-5,q:-9,P:1,N:3,B:3,R:5,Q:9},s=this.chessjs.fen();let t=0;for(let o=0;o<s.indexOf(" ");o++)e[s.charAt(o)]&&(t+=e[s.charAt(o)]);return t}minimax_root(e,s){return this.minimax(e,e,s)}minimax(e,s,t){let o=[];if(0===s){return{score:this.evaluate(),best:o}}const r=this.chessjs.moves({verbose:!0});if(t){let t=-999;for(let h=0;h<r.length;h++){this.chessjs.move(r[h]);let n=this.minimax(e,s-1,!1).score;this.chessjs.undo(),n>t?(t=n,o=[],o.push(r[h])):n===t&&o.push(r[h])}return{score:t,best:o}}{let t=999;for(let h=0;h<r.length;h++){this.chessjs.move(r[h]);let n=this.minimax(e,s-1,!0).score;this.chessjs.undo(),n<t?(t=n,o=[],o.push(r[h])):n===t&&o.push(r[h])}return{score:t,best:o}}}alphabeta_root(e,s){return this.alphabeta(e,e,-999,999,s)}alphabeta(e,s,t,o,r){let h=[];if(0===s){return{score:this.evaluate(),best:h}}const n=this.chessjs.moves({verbose:!0});if(r){let r=-999;for(let a=0;a<n.length;a++){this.chessjs.move(n[a]);let i=this.alphabeta(e,s-1,t,o,!1).score;if(this.chessjs.undo(),i>r?(r=i,h=[],h.push(n[a])):i===r&&h.push(n[a]),i>t&&(t=i),o<=t)break}return{score:r,best:h}}{let r=999;for(let a=0;a<n.length;a++){this.chessjs.move(n[a]);let i=this.alphabeta(e,s-1,t,o,!0).score;if(this.chessjs.undo(),i<r?(r=i,h=[],h.push(n[a])):i===r&&h.push(n[a]),i<o&&(o=i),o<=t)break}return{score:r,best:h}}}move_random(){const e=this.chessjs.moves({verbose:!0});for(let t=0;t<e.length;t++)console.log(e[t].to+", "+e[t].from+" : "+e[t].promotion);const s=e[Math.floor(Math.random()*e.length)];this.chessjs.move({from:s.from,to:s.to,promotion:s.promotion});return{fen:this.chessjs.fen(),from:s.from,to:s.to,san:s.san}}move_minimax(){let e=this.minimax_root(2,"w"===this.chessjs.turn()),s=e.best[Math.floor(Math.random()*e.best.length)];this.chessjs.move({from:s.from,to:s.to,promotion:s.promotion});return{fen:this.chessjs.fen(),from:s.from,to:s.to,san:s.san}}move(){let e=this.alphabeta_root(3,"w"===this.chessjs.turn()),s=e.best[Math.floor(Math.random()*e.best.length)];this.chessjs.move({from:s.from,to:s.to,promotion:s.promotion});return{fen:this.chessjs.fen(),from:s.from,to:s.to,san:s.san}}}}},s={};function t(o){var r=s[o];if(void 0!==r)return r.exports;var h=s[o]={exports:{}};return e[o](h,h.exports,t),h.exports}t.m=e,t.x=()=>{var e=t.O(void 0,[314],(()=>t(7752)));return e=t.O(e)},(()=>{var e=[];t.O=(s,o,r,h)=>{if(!o){var n=1/0;for(l=0;l<e.length;l++){o=e[l][0],r=e[l][1],h=e[l][2];for(var a=!0,i=0;i<o.length;i++)(!1&h||n>=h)&&Object.keys(t.O).every((e=>t.O[e](o[i])))?o.splice(i--,1):(a=!1,h<n&&(n=h));if(a){e.splice(l--,1);var c=r();void 0!==c&&(s=c)}}return s}h=h||0;for(var l=e.length;l>0&&e[l-1][2]>h;l--)e[l]=e[l-1];e[l]=[o,r,h]}})(),t.d=(e,s)=>{for(var o in s)t.o(s,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:s[o]})},t.f={},t.e=e=>Promise.all(Object.keys(t.f).reduce(((s,o)=>(t.f[o](e,s),s)),[])),t.u=e=>"static/js/"+e+".b78506ac.chunk.js",t.miniCssF=e=>{},t.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),t.p="/lets-play-chess/",(()=>{var e={752:1};t.f.i=(s,o)=>{e[s]||importScripts(t.p+t.u(s))};var s=self.webpackChunkchess_one_player=self.webpackChunkchess_one_player||[],o=s.push.bind(s);s.push=s=>{var r=s[0],h=s[1],n=s[2];for(var a in h)t.o(h,a)&&(t.m[a]=h[a]);for(n&&n(t);r.length;)e[r.pop()]=1;o(s)}})(),(()=>{var e=t.x;t.x=()=>t.e(314).then(e)})();t.x()})();
//# sourceMappingURL=752.7615ff92.chunk.js.map